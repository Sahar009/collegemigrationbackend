<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>College Migration - Document Status Update</title>
</head>
<body style="
    margin: 0;
    padding: 0;
    background: #408e49;
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 10px;
">
    <div style="
        margin: 20px auto;
        padding: 40px 20px;
        max-width: 600px;
        background: #ffffff;
        border: 1px solid #e5e7eb;
        border-radius: 24px;
    ">
        <!-- Logo -->
        <div style="width: 100%; margin: 0 auto 40px">
            <img
                src="https://res.cloudinary.com/ds5nnf5hi/image/upload/v1740830241/college_ilqfhe.png"
                style="width: 128px; margin: 0 auto 40px"
                alt="College Migration Logo"
            />
        </div>

        <!-- Main Image -->
        <img
            src="https://res.cloudinary.com/ds5nnf5hi/image/upload/v1742678947/undraw_content_0p18_qtyb7z.png"
            style="width: 261px; margin: 0 auto 40px"
            alt="Document Status Update"
        />

        <!-- Content -->
        <h2 style="color: #1A2825; font-size: 24px; margin: 0 0 24px">
            Document Status Update
        </h2>

        <div style="text-align: left; margin-bottom: 24px">
            <p style="color: #000000; font-size: 14px; margin: 0 0 16px">
                Dear <%= userName %>,
            </p>

            <p style="
                color: #000000;
                font-size: 14px;
                margin: 0 0 16px;
                line-height: 1.5;
            ">
                The status of your <strong><%= documentType %></strong> has been updated.
            </p>

            <!-- Document Details -->
            <div style="
                background: #f8fafc;
                padding: 16px;
                border-radius: 8px;
                margin: 24px 0;
            ">
                <p style="color: #000000; font-size: 14px; margin: 0 0 8px">
                    <strong>Document:</strong> <%= documentName %>
                </p>
                
                <p style="color: #000000; font-size: 14px; margin: 0 0 8px">
                    <strong>Status:</strong> 
                    <% 
                    let statusBgColor = '#f8f9fa';
                    let statusTextColor = '#000000';
                    
                    if (status && status.toLowerCase() === 'pending') {
                        statusBgColor = '#ffc107';
                        statusTextColor = '#212529';
                    } else if (status && status.toLowerCase() === 'approved') {
                        statusBgColor = '#28a745';
                        statusTextColor = '#ffffff';
                    } else if (status && status.toLowerCase() === 'rejected') {
                        statusBgColor = '#dc3545';
                        statusTextColor = '#ffffff';
                    }
                    %>
                    <span style="
                        display: inline-block;
                        padding: 4px 12px;
                        border-radius: 20px;
                        font-weight: bold;
                        background-color: <%= statusBgColor %>;
                        color: <%= statusTextColor %>;
                    ">
                        <%= status %>
                    </span>
                </p>
                
                <% if (adminComment) { %>
                <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid #e2e8f0;">
                    <p style="color: #000000; font-size: 14px; margin: 0 0 4px; font-weight: 600;">
                        Admin's Note:
                    </p>
                    <p style="color: #4b5563; font-size: 14px; margin: 0; font-style: italic;">
                        "<%= adminComment %>"
                    </p>
                </div>
                <% } %>
                
                <p style="color: #6b7280; font-size: 13px; margin: 12px 0 0 0;">
                    Last Updated: <%= date %>
                </p>
                
                <% if (attachments && attachments.length > 0) { %>
                <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid #e2e8f0;">
                    <p style="color: #000000; font-size: 14px; margin: 0 0 8px; font-weight: 600;">
                        Attached Files:
                    </p>
                    <ul style="margin: 0; padding-left: 20px;">
                        <% attachments.forEach(file => { %>
                            <li style="margin-bottom: 4px;">
                                <a href="<%= file.url || '#' %>" 
                                   style="color: #3b82f6; text-decoration: none;"
                                   target="_blank">
                                    <%= file.name || 'Download File' %>
                                </a>
                                <% if (file.size) { %>
                                    <span style="color: #6b7280; font-size: 12px;">
                                        (<%= (file.size / 1024).toFixed(1) %> KB)
                                    </span>
                                <% } %>
                            </li>
                        <% }); %>
                    </ul>
                </div>
                <% } %>
            </div>

            <p style="color: #000000; font-size: 14px; margin: 24px 0 16px">
                You can check the details of your document by logging into your account.
            </p>
            
            <!-- Login Button -->
            <div style="text-align: center; margin: 32px 0;">
                <a href="<%= loginUrl %>" 
                   style="
                       background-color: #408e49;
                       color: white;
                       padding: 12px 32px;
                       text-decoration: none;
                       border-radius: 8px;
                       font-weight: bold;
                       display: inline-block;
                   ">
                    Login to Your Account
                </a>
            </div>

            <p style="color: #000000; font-size: 14px; margin: 0 0 16px">
                If you have any questions, please don't hesitate to contact our support team.
            </p>

            <p style="color: #000000; font-size: 14px; margin: 0 0 8px">
                Best Regards,
            </p>

            <p style="color: #000000; font-size: 14px; margin: 0">
                College Migration Team
            </p>
        </div>

        <!-- Footer -->
        <div style="margin: 40px -20px 0; padding: 37px 20px; background: #f8fafc">
            <p style="color: #000000; font-size: 14px; margin: 0 0 29px">
                Join our growing community of international students
            </p>

            <!-- Social Icons -->
            <div style="margin: 0 0 29px">
                <a href="<%= (socialLinks && socialLinks.Facebook) ? socialLinks.Facebook : '#' %>" target="_blank" style="text-decoration: none; margin: 0 8px;">
                    <img
                        src="https://cdn-icons-png.flaticon.com/256/20/20673.png"
                        style="width: 24px; height: 24px;"
                        alt="Facebook"
                    />
                </a>
                <a href="<%= (socialLinks && socialLinks.Twitter) ? socialLinks.Twitter : '#' %>" target="_blank" style="text-decoration: none; margin: 0 8px;">
                    <img
                        src="https://cdn-icons-png.freepik.com/256/3938/3938028.png?semt=ais_hybrid"
                        style="width: 24px; height: 24px;"
                        alt="Twitter"
                    />
                </a>
                <a href="<%= (socialLinks && socialLinks.LinkedIn) ? socialLinks.LinkedIn : '#' %>" target="_blank" style="text-decoration: none; margin: 0 8px;">
                    <img
                        src="https://cdn-icons-png.flaticon.com/512/174/174857.png"
                        style="width: 24px; height: 24px;"
                        alt="LinkedIn"
                    />
                </a>
            </div>

            <p style="color: #64748b; font-size: 12px; margin: 20px 0">
                &copy; <%= new Date().getFullYear() %> College Migration. All rights reserved.
            </p>
        </div>
    </div>
</body>
</html>